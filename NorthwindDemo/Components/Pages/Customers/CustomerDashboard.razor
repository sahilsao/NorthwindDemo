@page "/customer/customerdashboard"

@using NorthwindDemo.Components.Layout.Customer;
@using System.ComponentModel.DataAnnotations;
@using Microsoft.EntityFrameworkCore;
@using NorthwindDemo.Context;
@using NorthwindDemo.Entities;

@layout CustomerLayout

@inject NavigationManager NavigationManager
@inject DbContextNorthwind DbContext
@inject CookieService CookieService

<PageTitle>Customer Dashboard</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Customer Dashboard</MudText>

<p>Customer ID: @CustomerId</p>

@code {
    private string CustomerId { get; set; } = null!;

    protected override void OnInitialized()
    {
        // Retrieve CustomerId from the cookie
        CustomerId = CookieService.GetCookie("customerId");

        if (string.IsNullOrEmpty(CustomerId))
        {
            // If no customerId, redirect to the login page
            //NavigationManager.NavigateTo("/customer/customerlogin");
        }
    }

}
